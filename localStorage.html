<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Web Storage World</title>
  </head>
  <body>

    <style>
    .contents {
        border: 2px solid black;
        padding: 15px;

        position: fixed;
        top: 50%;
        left: 50%;

        transform: translate(-50%, -50%);
        }

        #generateButton {
        margin-top: 5px;
        margin-bottom: 15px;
        }

    </style>
    <main class="contents" align="center">
      <h1>Local Storage</h1>

      <button id="incrementButton">Tambah nilai</button>
      <button id="clear">Hapus storage</button>

      <h3>Kamu sudah menekan tombol di atas sebanyak:</h3>
      <h2 id="count">0</h2>
    </main>

    <script>
        const keyStorage = "PRESS_FREQUENCY";


        if(typeof Storage !== "undefined"){
            if(localStorage.getItem(keyStorage) === null){
                localStorage.setItem(keyStorage,0)
            }

            const addButton = document.getElementById("incrementButton");
            const clearButton = document.getElementById("clear");
            const countDisplay = document.getElementById("count");

            countDisplay.innerText = localStorage.getItem(keyStorage)

            addButton.addEventListener("click", () => {
                const count = parseInt(localStorage.getItem(keyStorage));
                count++;
                localStorage.setItem(keyStorage, count.toString());
                countDisplay.innerText = localStorage.getItem(keyStorage)
            })

            clearButton.addEventListener("click", ()=> {
                localStorage.removeItem(keyStorage);
                countDisplay.innerText = 0
            });
        } else {
            alert('Browsermu tidak support localstorage');
        }
    </script>
  </body>
</html>
